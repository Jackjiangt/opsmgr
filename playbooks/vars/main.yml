---
# Copyright 2016, IBM US, Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# opsmgr version
opsmgr_version: 0.9.9

# opsmgr directory
opsmgr_dir: "{{ playbook_dir }}/.."

# tweak use of pip
pipexec: pip
pipargs: ''

# name of sudoers file
sudoers_filename: opsmgr_sudoers

# internal database
db_name: opsmgr
mysql_root_user: root
mysql_root_password: passw0rd

# proxy mode - valid values: iptables or haproxy
# obs: it doesn't actually install packages, just configure
proxy_mode: iptables

# defines containers used to integrate management applications
# name: container name (unique)
# roles: corresponds to ansible role used to deploy application
# release: ubuntu release to be used, e.g. trusty
# ports: list of dictionaries that contains port mappings
#   name: the name of the port mapping
#   host: the port on the host side
#   container: the port on the container side
# mount: mount point for host shared directory
# address: ipv4 address (optional, used if static address)
# netmark: ipv4 netmask (optional, used if static address)
# broadcast: ipv4 broadcast (optional, used if static address)
# gateway: ipv4 gareway (optional, used if static address)
# nameserver: ipv4 nameserver (optional, used if static address)
#
containers:
  - name: core
    role: core
    release: trusty
    ports:
      - { name: "http", host: 8000, container:   80 }
    mount: etc/opsmgr/shared
  - name: mysql
    role: mysql
    release: trusty
    ports:
      - { name: "mysql", host: 3306, container: 3306 }
    mount: etc/opsmgr/shared
  - name: nagios
    role: nagios
    release: trusty
    ports:
      - { name: "http", host: 8001, container:   80 }
      - { name: "nrpe", host: 5601, container: 5666 }
    mount: usr/local/nagios/opsmgr/nagios_config


